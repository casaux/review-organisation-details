(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Mfvw:function(t,e,n){"use strict";n.r(e),n.d(e,"ConnectorModule",(function(){return ut})),n.d(e,"routes",(function(){return bt})),n.d(e,"ConnectorRoutingModule",(function(){return pt}));var i=n("47kq"),c=n("D/wg"),o=n("sEIs"),a=n("42YS"),r=n("XZLj"),s=n("lwwr"),l=n("q6bj"),b=n("lu7F"),p=n("ke9K"),u=n("pJFc"),d=n("VFro"),h=n("EM62"),g=n("NNuM"),m=n("2kYt"),v=n("Meci"),f=n("Pq5H");let y=(()=>{class t{constructor(t){this.linkQuery=t,this.faBell=b.b}ngOnInit(){this.linkName=this.linkQuery.displayName}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(p.i))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-information-callout-card"]],inputs:{content:"content"},decls:7,vars:5,consts:[[1,"card-callout","card-callout-info","mb-3","move-none"],["id","pulse-wrapper"],["id","pulse",1,"mb-0","pulse"],[3,"icon","size"],[1,"mb-0"],[2,"margin-left","30px"]],template:function(t,e){1&t&&(h.Vb(0,"div",0),h.Vb(1,"div",1),h.Vb(2,"div",2),h.Qb(3,"fa-icon",3),h.Ub(),h.Ub(),h.Vb(4,"p",4),h.Vb(5,"span",5),h.Gc(6),h.Ub(),h.Ub(),h.Ub()),2&t&&(h.Cb(3),h.Eb("fa-bell icon-pulse"),h.mc("icon",e.faBell)("size","lg"),h.Cb(3),h.Ic("\xa0\xa0\xa0",e.content,""))},directives:[f.a],styles:[".card-callout[_ngcontent-%COMP%]{background-color:#e7eff4;border-radius:4px;border-left:4px solid #2d486f;padding:15px;position:relative;z-index:10}.mb-3[_ngcontent-%COMP%], .my-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mt-5[_ngcontent-%COMP%], .my-5[_ngcontent-%COMP%]{margin-top:3rem!important}.move-up.one[_ngcontent-%COMP%]{-webkit-animation-delay:.1s;animation-delay:.1s}.move-up[_ngcontent-%COMP%]{opacity:0;-webkit-animation:moveUp ease-in 1;animation:moveUp ease-in 1;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}#pulse-wrapper[_ngcontent-%COMP%]{display:flex;position:fixed;width:100%;height:100%;overflow:visible}.mb-0[_ngcontent-%COMP%], .my-0[_ngcontent-%COMP%]{margin-bottom:0!important}.fa[_ngcontent-%COMP%], .fab[_ngcontent-%COMP%], .fal[_ngcontent-%COMP%], .far[_ngcontent-%COMP%], .fas[_ngcontent-%COMP%]{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-block;font-style:normal;font-variant:normal;text-rendering:auto;line-height:1}.icon-pulse[_ngcontent-%COMP%]{position:relative;top:-33px;left:-14px;color:#2d486f}#pulse-wrapper[_ngcontent-%COMP%]   #pulse[_ngcontent-%COMP%]{margin-top:35px;margin-left:20px}#pulse-wrapper[_ngcontent-%COMP%]   #pulse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;margin-top:-19px;margin-left:-25px;width:1px;height:1px;border-radius:50%;background:#2d486f;-webkit-animation:pulse_animation 5s infinite;animation:pulse_animation 5s infinite}@keyframes pulse_animation{0%{box-shadow:0 0 0 0 rgba(0,105,143,.8)}50%{box-shadow:0 0 0 25px rgba(0,105,143,0)}to{box-shadow:0 0 0 25px rgba(0,105,143,0)}}@-webkit-keyframes pulse_animation{0%{box-shadow:0 0 0 0 rgba(0,105,143,.8)}50%{box-shadow:0 0 0 25px rgba(0,105,143,0)}to{box-shadow:0 0 0 25px rgba(0,105,143,0)}}@media (-ms-high-contrast:active),(-ms-high-contrast:none){#pulse-wrapper[_ngcontent-%COMP%]   #pulse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:-30px}}#pulse-wrapper[_ngcontent-%COMP%]   #pulse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.4s;animation-delay:.4s}"]}),t})();var k=n("tQqY");function C(t,e){if(1&t){const t=h.Wb();h.Vb(0,"div",2),h.Vb(1,"mat-card",3),h.Vb(2,"mat-card-title"),h.Qb(3,"img",4),h.Vb(4,"h2"),h.Gc(5,"Create or confirm your Digital Identity"),h.Ub(),h.Ub(),h.Vb(6,"mat-card-content"),h.Qb(7,"app-information-callout-card",5),h.Vb(8,"p"),h.Gc(9," To create a "),h.Vb(10,"a",6),h.dc("click",(function(){return h.xc(t),h.hc().openHelp("identity")})),h.Gc(11,"Digital Identity"),h.Ub(),h.Gc(12," you'll need to: "),h.Ub(),h.Vb(13,"ul"),h.Vb(14,"li"),h.Gc(15,"select an "),h.Vb(16,"a",6),h.dc("click",(function(){return h.xc(t),h.hc().openHelp("provider")})),h.Gc(17,"identity provider"),h.Ub(),h.Ub(),h.Vb(18,"li"),h.Gc(19,"download the provider's app"),h.Ub(),h.Vb(20,"li"),h.Gc(21,"enter details from your identity documents."),h.Ub(),h.Ub(),h.Vb(22,"div",7),h.Vb(23,"button",8),h.dc("click",(function(){return h.xc(t),h.hc().continue()})),h.Gc(24," Create a Digital Identity "),h.Ub(),h.Vb(25,"button",9),h.dc("click",(function(){return h.xc(t),h.hc().continue()})),h.Gc(26," I have a Digital Identity "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()}if(2&t){const t=h.hc();h.Cb(7),h.mc("content",t.appCalloutContent)}}function I(t,e){if(1&t&&(h.Vb(0,"div",10),h.Vb(1,"mat-card",11),h.Vb(2,"mat-card-title"),h.Qb(3,"img",12),h.Vb(4,"span"),h.Gc(5," You have a Digital Identity with "),h.Vb(6,"strong"),h.Gc(7),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&t){const t=h.hc();h.Cb(7),h.Hc(t.selectedIdpName)}}let w=(()=>{class t{constructor(t,e,n,i,c){this.flowQuery=t,this.idpQuery=e,this.linkQuery=n,this.navigation=i,this.helpService=c}ngOnInit(){if(this.stepOneSuccess=this.flowQuery.successfulIdpLogin,this.linkName=this.linkQuery.displayName,this.appCalloutContent=`You must use the same email address for your ${this.linkName} account and your Digital Identity.`,this.idpQuery.hasActive()){const{properties:t}=this.idpQuery.getActive();this.selectedIdpName=t.displayName}}continue(){this.navigation.resolveNavigation(l.a.ConnectorIdpInfo)}openHelp(t){this.helpService.emitOpenHelp(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(l.i),h.Pb(p.g),h.Pb(p.i),h.Pb(l.k),h.Pb(g.b))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-step-container-one"]],decls:3,vars:2,consts:[["class","step-container step-container--active move-left one","aria-current","step",4,"ngIf","ngIfElse"],["successBlock",""],["aria-current","step",1,"step-container","step-container--active","move-left","one"],[1,"active-card"],["src","/assets/img/card-active-icon.svg","alt","Step 1",1,"step-logo"],[3,"content"],["link","",3,"click"],[1,"button-group"],["data-auto","connect-step-create-id-button",1,"secondary-action-button",3,"click"],["data-auto","connect-step-have-id-button",1,"primary-action-button",3,"click"],[1,"step-container","move-left","one"],[1,"done-card"],["src","/assets/img/card-done-icon.svg","alt","Step 1 completed",1,"step-logo"]],template:function(t,e){if(1&t&&(h.Ec(0,C,27,1,"div",0),h.Ec(1,I,8,1,"ng-template",null,1,h.Fc)),2&t){const t=h.vc(2);h.mc("ngIf",!e.stepOneSuccess)("ngIfElse",t)}},directives:[m.k,v.a,v.e,v.c,y,k.a],styles:[""]}),t})();function U(t,e){if(1&t&&(h.Vb(0,"span"),h.Gc(1),h.Ub()),2&t){const t=h.hc(2);h.Cb(1),h.Ic("Connect your Digital Identity to your ",t.linkableRpName," account")}}function V(t,e){if(1&t&&(h.Vb(0,"div"),h.Vb(1,"strong"),h.Gc(2,"Create"),h.Ub(),h.Gc(3),h.Ub()),2&t){const t=h.hc(3);h.Cb(3),h.Ic(" a ",t.linkableRpName," account and connect it to your Digital Identity")}}function P(t,e){if(1&t&&(h.Vb(0,"div"),h.Vb(1,"strong"),h.Gc(2,"Connect"),h.Ub(),h.Gc(3),h.Ub()),2&t){const t=h.hc(3);h.Cb(3),h.Ic(" your Digital Identity and your ",t.linkableRpName," account")}}function Q(t,e){if(1&t&&(h.Vb(0,"div"),h.Vb(1,"strong"),h.Gc(2,"Share"),h.Ub(),h.Gc(3),h.Ub()),2&t){const t=h.hc(3);h.Cb(3),h.Ic(" your Digital Identity with your ",t.linkableRpName," account")}}function S(t,e){if(1&t&&(h.Ec(0,V,4,1,"div",7),h.Ec(1,P,4,1,"div",7),h.Ec(2,Q,4,1,"div",7)),2&t){const t=h.hc(2);h.mc("ngIf","create"===t.flow),h.Cb(1),h.mc("ngIf","connect"===t.flow),h.Cb(1),h.mc("ngIf","share"===t.flow)}}function N(t,e){if(1&t&&(h.Vb(0,"div",2),h.Vb(1,"mat-card",3),h.Vb(2,"mat-card-title"),h.Qb(3,"img",4),h.Ec(4,U,2,1,"span",5),h.Ec(5,S,3,3,"ng-template",null,6,h.Fc),h.Ub(),h.Ub(),h.Ub()),2&t){const t=h.vc(6),e=h.hc();h.Cb(4),h.mc("ngIf",!e.sso)("ngIfElse",t)}}function G(t,e){if(1&t&&(h.Vb(0,"div",2),h.Vb(1,"mat-card",8),h.Vb(2,"mat-card-title"),h.Qb(3,"img",9),h.Vb(4,"span"),h.Gc(5),h.Vb(6,"strong"),h.Gc(7),h.Ub(),h.Gc(8," account "),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&t){const t=h.hc();h.Cb(5),h.Jc(" You have ","share"===t.flow?"shared":"connected"," your Digital Identity ","share"===t.flow?"details with":"to"," your "),h.Cb(2),h.Hc(t.linkableRpName)}}let O=(()=>{class t{constructor(t,e,n,i){this.flowQuery=t,this.linkRpQuery=e,this.authPersistedQuery=n,this.flowService=i,this.stepTwoSuccess=!1}ngOnInit(){this.flowQuery.connectorConsentState===u.k.Completed&&(this.stepTwoSuccess=!0),this.sso=this.authPersistedQuery.isAuthenticatedSso,this.flow=this.linkRpQuery.connectorType.toLowerCase(),this.flow!==u.e.Share&&this.flow!==u.e.Create||this.flowService.updateIntegration("login",u.k.NotRequired),this.linkableRpName=this.linkRpQuery.displayName}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(l.i),h.Pb(p.i),h.Pb(a.b),h.Pb(l.f))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-step-container-two"]],decls:3,vars:2,consts:[["class","step-container move-left two",4,"ngIf","ngIfElse"],["successBlock",""],[1,"step-container","move-left","two"],[1,"future-card"],["src","/assets/img/card-inactive-icon.svg","alt","Step 2",1,"step-logo"],[4,"ngIf","ngIfElse"],["ssoBlock",""],[4,"ngIf"],[1,"done-card"],["src","/assets/img/card-done-icon.svg","alt","Step 2 completed",1,"step-logo"]],template:function(t,e){if(1&t&&(h.Ec(0,N,7,2,"div",0),h.Ec(1,G,9,3,"ng-template",null,1,h.Fc)),2&t){const t=h.vc(2);h.mc("ngIf",!e.stepTwoSuccess)("ngIfElse",t)}},directives:[m.k,v.a,v.e],styles:[""]}),t})();var R=n("GAih");function x(t,e){1&t&&h.Qb(0,"img",5)}function M(t,e){1&t&&h.Qb(0,"img",6)}const _=function(t,e){return{"future-card":t,"done-card":e}};function E(t,e){if(1&t&&(h.Vb(0,"div"),h.Vb(1,"div",1),h.Vb(2,"mat-card",2),h.Vb(3,"mat-card-title"),h.Ec(4,x,1,0,"img",3),h.Ec(5,M,1,0,"img",4),h.Vb(6,"span"),h.Gc(7),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&t){const t=h.hc();h.Cb(2),h.mc("ngClass",h.rc(4,_,!t.done,t.done)),h.Cb(2),h.mc("ngIf",!t.done),h.Cb(1),h.mc("ngIf",t.done),h.Cb(2),h.Hc(t.content)}}function L(t,e){1&t&&h.Qb(0,"img",10)}function T(t,e){1&t&&h.Qb(0,"img",11)}function A(t,e){if(1&t&&(h.Vb(0,"div"),h.Vb(1,"div",7),h.Vb(2,"mat-card",2),h.Vb(3,"mat-card-title"),h.Ec(4,L,1,0,"img",8),h.Ec(5,T,1,0,"img",9),h.Vb(6,"span"),h.Gc(7),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&t){const t=h.hc();h.Cb(2),h.mc("ngClass",h.rc(4,_,!t.done,t.done)),h.Cb(2),h.mc("ngIf",!t.done),h.Cb(1),h.mc("ngIf",t.done),h.Cb(2),h.Hc(t.content)}}let D=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Jb({type:t,selectors:[["app-step-container-three"]],inputs:{content:"content",finalContainer:"finalContainer",done:"done"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"step-container","move-left","three"],[3,"ngClass"],["src","/assets/img/card-inactive-icon.svg","alt","Step 3","class","step-logo",4,"ngIf"],["src","/assets/img/card-done-icon.svg","alt","Step 3 completed","class","step-logo",4,"ngIf"],["src","/assets/img/card-inactive-icon.svg","alt","Step 3",1,"step-logo"],["src","/assets/img/card-done-icon.svg","alt","Step 3 completed",1,"step-logo"],[1,"step-container","move-left","four"],["src","/assets/img/card-inactive-icon.svg","alt","Step 4","class","step-logo",4,"ngIf"],["src","/assets/img/card-done-icon.svg","alt","Step 4 completed","class","step-logo",4,"ngIf"],["src","/assets/img/card-inactive-icon.svg","alt","Step 4",1,"step-logo"],["src","/assets/img/card-done-icon.svg","alt","Step 4 completed",1,"step-logo"]],template:function(t,e){1&t&&(h.Ec(0,E,8,7,"div",0),h.Ec(1,A,8,7,"div",0)),2&t&&(h.mc("ngIf",!e.finalContainer),h.Cb(1),h.mc("ngIf",e.finalContainer))},directives:[m.k,v.a,m.i,R.a,v.e],styles:[""]}),t})(),j=(()=>{class t{constructor(t,e,n,i,c,o){this.redirectService=t,this.pageTitleService=e,this.backService=n,this.rpQuery=i,this.cancelNavigation=c,this.auditService=o,this.faChevronRight=b.e}ngOnInit(){this.backService.setBackLocation(l.a.ConnectorIdpInfo),this.redirectService.setRedirecting(!1),this.pageTitleService.setTitle("Verify your identity"),this.rpName=this.rpQuery.displayName,this.shareContent=`Share your details with ${this.rpName}`,this.continueContent=`Continue to ${this.rpName}`}cancel(){this.auditService.audit("connector_cancelled").subscribe(t=>{this.cancelNavigation.resolveNavigation(l.a.ConnectorIdpInfo,u.d.AuthenticationCancelled)})}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(s.RedirectService),h.Pb(r.c),h.Pb(r.a),h.Pb(p.k),h.Pb(l.c),h.Pb(d.a))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-connect-step"]],decls:12,vars:6,consts:[["id","connector-container"],[1,"connecting-line"],[3,"done","content"],[3,"done","finalContainer","content"],["link","","data-auto","connect-step-cancel-button",3,"click"]],template:function(t,e){1&t&&(h.Vb(0,"h1"),h.Gc(1),h.Ub(),h.Vb(2,"p"),h.Gc(3,"Follow these steps:"),h.Ub(),h.Vb(4,"section",0),h.Qb(5,"div",1),h.Qb(6,"app-step-container-one"),h.Qb(7,"app-step-container-two"),h.Qb(8,"app-step-container-three",2),h.Qb(9,"app-step-container-three",3),h.Ub(),h.Vb(10,"a",4),h.dc("click",(function(){return e.cancel()})),h.Gc(11,"Cancel"),h.Ub()),2&t&&(h.Cb(1),h.Ic("Prove your identity for ",e.rpName,""),h.Cb(7),h.mc("done",!1)("content",e.shareContent),h.Cb(1),h.mc("done",!1)("finalContainer",!0)("content",e.continueContent))},directives:[w,O,D,k.a],styles:[""]}),t})(),H=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Jb({type:t,selectors:[["app-connector"]],decls:1,vars:0,template:function(t,e){1&t&&h.Qb(0,"router-outlet")},directives:[o.h],styles:[""]}),t})();var J=n("mFH5");let F=(()=>{class t{constructor(t,e,n,i){this.linkQuery=t,this.backService=e,this.navigation=n,this.rpQuery=i,this.faChevronRight=b.e}ngOnInit(){this.linkableName=this.linkQuery.displayName,this.rpName=this.rpQuery.displayName,this.backService.setBackLocation("/connector/connect-mygov")}continue(){this.navigation.resolveNavigation(l.a.ConnectorLinkInfo)}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(p.i),h.Pb(r.a),h.Pb(l.l),h.Pb(p.k))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-connect-my-gov"]],decls:12,vars:1,consts:[["aria-current","step",1,"step-container","step-container--active","move-left","two"],[1,"active-card"],["src","/assets/img/card-active-icon.svg","alt","Step 2",1,"step-logo"],["data-auto","connect-mygov-heading"],[1,"no-bottom-margin"],[1,"button-group"],["data-auto","connect-mygov-continue-button","matRipple","",1,"primary-action-button",3,"click"]],template:function(t,e){1&t&&(h.Vb(0,"div",0),h.Vb(1,"mat-card",1),h.Vb(2,"mat-card-title"),h.Qb(3,"img",2),h.Vb(4,"h2",3),h.Gc(5),h.Ub(),h.Ub(),h.Vb(6,"mat-card-content"),h.Vb(7,"p",4),h.Gc(8," You'll be able to use your Digital Identity to sign in to your myGov account. "),h.Ub(),h.Vb(9,"div",5),h.Vb(10,"button",6),h.dc("click",(function(){return e.continue()})),h.Gc(11," Continue "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&t&&(h.Cb(5),h.Ic(" Connect your Digital Identity to your ",e.linkableName," account "))},directives:[v.a,v.e,v.c,J.o],styles:[""]}),t})(),q=(()=>{class t{constructor(t,e,n,i,c){this.rpQuery=t,this.linkQuery=e,this.backService=n,this.navigation=i,this.helpService=c,this.faChevronRight=b.e}ngOnInit(){this.rpName=this.rpQuery.displayName,this.linkName=this.linkQuery.displayName,this.backService.setBackLocation("/connector/connect-mygov")}continue(){this.navigation.resolveNavigation(l.a.ConnectorLinkInfo)}openHelp(t){this.helpService.emitOpenHelp(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(p.k),h.Pb(p.i),h.Pb(r.a),h.Pb(l.l),h.Pb(g.b))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-create-my-gov"]],decls:25,vars:5,consts:[["aria-current","step",1,"step-container","step-container--active","move-left","two"],[1,"active-card"],["src","/assets/img/card-active-icon.svg","alt","Step 2",1,"step-logo"],["data-auto","create-mygov-heading"],[1,"no-top-margin"],["link","","fragment","mygov",3,"click"],[3,"icon"],[1,"cdk-visually-hidden"],[1,"button-group"],["data-auto","create-mygov-continue-button","color","primary",1,"primary-action-button",3,"click"]],template:function(t,e){1&t&&(h.Vb(0,"div",0),h.Vb(1,"mat-card",1),h.Vb(2,"mat-card-title"),h.Qb(3,"img",2),h.Vb(4,"h2",3),h.Gc(5),h.Ub(),h.Ub(),h.Vb(6,"mat-card-content"),h.Vb(7,"p"),h.Gc(8,"You can use your:"),h.Ub(),h.Vb(9,"ul",4),h.Vb(10,"li"),h.Gc(11),h.Vb(12,"strong"),h.Gc(13),h.Ub(),h.Gc(14,"and other government services "),h.Ub(),h.Vb(15,"li"),h.Gc(16),h.Ub(),h.Ub(),h.Vb(17,"a",5),h.dc("click",(function(){return e.openHelp("myGov")})),h.Gc(18," What is myGov? "),h.Qb(19,"fa-icon",6),h.Vb(20,"span",7),h.Gc(21," opens in help page "),h.Ub(),h.Ub(),h.Vb(22,"div",8),h.Vb(23,"button",9),h.dc("click",(function(){return e.continue()})),h.Gc(24," Continue "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&t&&(h.Cb(5),h.Ic("Create a ",e.linkName," account and connect your Digital Identity"),h.Cb(6),h.Ic(" ",e.linkName," account to access "),h.Cb(2),h.Ic("",e.rpName," "),h.Cb(3),h.Ic("Digital Identity to sign in to your ",e.linkName," account."),h.Cb(3),h.mc("icon",e.faChevronRight))},directives:[v.a,v.e,v.c,k.a,f.a],styles:[""]}),t})(),B=(()=>{class t{constructor(t,e,n){this.linkQuery=t,this.backService=e,this.navigation=n}ngOnInit(){this.linkName=this.linkQuery.displayName,this.backService.setBackLocation("/connector/connect-mygov")}continue(){this.navigation.resolveNavigation(l.a.ConnectorLinkInfo)}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(p.i),h.Pb(r.a),h.Pb(l.l))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-share-my-gov"]],decls:12,vars:2,consts:[["aria-current","step",1,"step-container","step-container--active","move-left","two"],[1,"active-card"],["src","/assets/img/card-active-icon.svg","alt","Step 2",1,"step-logo"],["data-auto","share-mygov-heading"],[1,"no-bottom-margin"],[1,"button-group"],["data-auto","share-mygov-continue-button","matRipple","",1,"primary-action-button",3,"click"]],template:function(t,e){1&t&&(h.Vb(0,"div",0),h.Vb(1,"mat-card",1),h.Vb(2,"mat-card-title"),h.Qb(3,"img",2),h.Vb(4,"h2",3),h.Gc(5),h.Ub(),h.Ub(),h.Vb(6,"mat-card-content"),h.Vb(7,"p",4),h.Gc(8),h.Ub(),h.Vb(9,"div",5),h.Vb(10,"button",6),h.dc("click",(function(){return e.continue()})),h.Gc(11," Continue "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&t&&(h.Cb(5),h.Ic(" Share your Digital Identity details with ",e.linkName," "),h.Cb(3),h.Ic(" We'll ask for your consent to share some identity details with ",e.linkName,". "))},directives:[v.a,v.e,v.c,J.o],styles:[""]}),t})();function Z(t,e){1&t&&h.Qb(0,"app-connect-my-gov")}function Y(t,e){1&t&&h.Qb(0,"app-create-my-gov")}function $(t,e){1&t&&h.Qb(0,"app-share-my-gov")}let z=(()=>{class t{constructor(t,e,n,i,c,o,a){this.redirectService=t,this.pageTitleService=e,this.backService=n,this.linkQuery=i,this.cancelNavigation=c,this.rpQuery=o,this.auditService=a}ngOnInit(){this.redirectService.setRedirecting(!1),this.pageTitleService.setTitle("Create a myGov account"),this.backService.setBackLocation("/connector/connect-mygov"),this.flow=this.linkQuery.connectorType.toLowerCase(),this.rpName=this.rpQuery.displayName,this.shareContent=`Share your details with ${this.rpName}`,this.continueContent=`Continue to ${this.rpName}`}cancel(){this.auditService.audit("connector_cancelled").subscribe(t=>{this.cancelNavigation.resolveNavigation(l.a.ConnectorLinkInfo,u.d.AuthenticationCancelled)})}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(s.RedirectService),h.Pb(r.c),h.Pb(r.a),h.Pb(p.i),h.Pb(l.c),h.Pb(p.k),h.Pb(d.a))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-my-gov-step"]],decls:14,vars:9,consts:[["id","connector-container"],[1,"connecting-line"],[4,"ngIf"],[3,"done","content"],[3,"done","finalContainer","content"],["link","","data-auto","choose-idp-cancel-button",3,"click"]],template:function(t,e){1&t&&(h.Vb(0,"h1"),h.Gc(1),h.Ub(),h.Vb(2,"p"),h.Gc(3,"Follow these steps:"),h.Ub(),h.Vb(4,"section",0),h.Qb(5,"div",1),h.Qb(6,"app-step-container-one"),h.Ec(7,Z,1,0,"app-connect-my-gov",2),h.Ec(8,Y,1,0,"app-create-my-gov",2),h.Ec(9,$,1,0,"app-share-my-gov",2),h.Qb(10,"app-step-container-three",3),h.Qb(11,"app-step-container-three",4),h.Ub(),h.Vb(12,"a",5),h.dc("click",(function(){return e.cancel()})),h.Gc(13,"Cancel"),h.Ub()),2&t&&(h.Cb(1),h.Ic("Prove your identity for ",e.rpName,""),h.Cb(6),h.mc("ngIf","connect"==e.flow),h.Cb(1),h.mc("ngIf","create"==e.flow),h.Cb(1),h.mc("ngIf","share"==e.flow),h.Cb(1),h.mc("done",!1)("content",e.shareContent),h.Cb(1),h.mc("done",!1)("finalContainer",!0)("content",e.continueContent))},directives:[w,m.k,D,k.a,F,q,B],styles:[""]}),t})(),W=(()=>{class t{constructor(t,e,n,i,c,o,a){this.redirectService=t,this.pageTitleService=e,this.rpQuery=n,this.cancelNavigation=i,this.navigation=c,this.backService=o,this.auditService=a}ngOnInit(){this.backService.setBackLocation(l.a.ConnectorRpConsentInfo),this.redirectService.setRedirecting(!1),this.pageTitleService.setTitle("Create a myGov account"),this.rpName=this.rpQuery.displayName,this.continueContent=`Continue to ${this.rpName}`}complete(){this.navigation.resolveNavigation(l.a.ConnectorRpConsentInfo)}cancel(){this.auditService.audit("connector_cancelled").subscribe(t=>{this.cancelNavigation.resolveNavigation(l.a.ConnectorRpConsentInfo,u.d.AuthenticationCancelled)})}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(s.RedirectService),h.Pb(r.c),h.Pb(p.k),h.Pb(l.c),h.Pb(l.m),h.Pb(r.a),h.Pb(d.a))},t.\u0275cmp=h.Jb({type:t,selectors:[["app-rp-consent-step"]],decls:31,vars:7,consts:[["id","connector-container"],[1,"connecting-line"],["aria-current","step",1,"step-container","step-container--active","move-left","three"],[1,"active-card"],["src","/assets/img/card-active-icon.svg","alt","Step 3",1,"step-logo"],["data-auto","share-rp-heading"],[1,"button-group"],["data-auto","rp-consent-step-continue-button","matRipple","",1,"primary-action-button",3,"click"],[3,"done","finalContainer","content"],["link","","data-auto","choose-idp-cancel-button",3,"click"]],template:function(t,e){1&t&&(h.Vb(0,"h1"),h.Gc(1),h.Ub(),h.Vb(2,"p"),h.Gc(3,"Follow these steps:"),h.Ub(),h.Vb(4,"section",0),h.Qb(5,"div",1),h.Qb(6,"app-step-container-one"),h.Qb(7,"app-step-container-two"),h.Vb(8,"div",2),h.Vb(9,"mat-card",3),h.Vb(10,"mat-card-title"),h.Qb(11,"img",4),h.Vb(12,"h1",5),h.Gc(13),h.Ub(),h.Ub(),h.Vb(14,"mat-card-content"),h.Vb(15,"p"),h.Gc(16," We'll ask for your consent to share some identity details with "),h.Vb(17,"strong"),h.Gc(18),h.Ub(),h.Gc(19,". "),h.Ub(),h.Vb(20,"p"),h.Gc(21," If you previously chose to remember your consent preference for "),h.Vb(22,"strong"),h.Gc(23),h.Ub(),h.Gc(24,", we'll share these remembered details. "),h.Ub(),h.Vb(25,"div",6),h.Vb(26,"button",7),h.dc("click",(function(){return e.complete()})),h.Gc(27," Continue "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Qb(28,"app-step-container-three",8),h.Ub(),h.Vb(29,"a",9),h.dc("click",(function(){return e.cancel()})),h.Gc(30,"Cancel"),h.Ub()),2&t&&(h.Cb(1),h.Ic("Prove your identity for ",e.rpName,""),h.Cb(12),h.Ic("Share your details with ",e.rpName,""),h.Cb(5),h.Hc(e.rpName),h.Cb(5),h.Hc(e.rpName),h.Cb(5),h.mc("done",!1)("finalContainer",!0)("content",e.continueContent))},directives:[w,O,v.a,v.e,v.c,J.o,D,k.a],styles:[""]}),t})();var X=n("8j5Y"),K=n("ROBh"),tt=n("vobO"),et=n("vIZi");let nt=(()=>{class t{constructor(t,e,n,i,c,o,a,r){this.flowQuery=t,this.rpQuery=e,this.idpQuery=n,this.linkRpQuery=i,this.linkRpService=c,this.navigation=o,this.flowService=a,this.integrationApi=r}resolve(){return this.progressCall().pipe(Object(X.a)(()=>{this.updateFlow(),this.checkForLinkableReturnSuccess(),this.navigate(l.a.ConnectorEntry)}))}navigate(t){this.navigation.resolveNavigation(t)}checkForLinkableReturnSuccess(){this.flowQuery.connectorLoginState===u.k.InProgress&&"AUTHENTICATED"===this.linkRpQuery.linkableStatus&&this.flowService.updateIntegration("login",u.k.Completed)}checkForIdpSelection(){return this.flowQuery.connectorLoginState===u.k.InProgress||!!this.flowQuery.successfulIdpLogin&&this.flowQuery.connectorConsentState!==u.k.Completed}updateFlow(){switch(this.linkRpQuery.connectorType){case u.e.Create:case u.e.Share:this.flowService.updateIntegration("login",u.k.NotRequired);break;case u.e.Connect:default:if(this.flowQuery.connectorLoginState===u.k.InProgress)break;this.flowService.updateIntegration("login",u.k.Required)}}progressCall(){if(this.checkForIdpSelection()){const t=(new tt.e).set("idpAuthId",this.idpQuery.authId).set("linkIdpId",this.linkRpQuery.linkableId.toString());return this.integrationApi.getLinkableUserProgress(this.rpQuery.authId,t).pipe(Object(X.a)(t=>{this.linkRpService.updateLinkProgress(t)}))}return Object(K.a)(null)}}return t.\u0275fac=function(e){return new(e||t)(h.Zb(l.i),h.Zb(p.k),h.Zb(p.g),h.Zb(p.i),h.Zb(p.j),h.Zb(l.d),h.Zb(l.f),h.Zb(et.c))},t.\u0275prov=h.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var it=n("5uDM"),ct=n("8lHc"),ot=n("81ol"),at=n("fN3Q"),rt=n("j51s");let st=(()=>{class t{constructor(t,e,n,i,c,o,a,r){this.document=t,this.rpQuery=e,this.linkQuery=n,this.linkService=i,this.flowService=c,this.config=o,this.redirect=a,this.exchangeApi=r}ngOnInit(){this.redirect.setRedirecting(!0),this.linkableName=this.linkQuery.displayName,this.loginToLinkable().subscribe(t=>{this.flowService.updateIntegration("login",u.k.InProgress),this.initiateExternalRedirect(t.location)})}loginToLinkable(){return this.linkService.updateLinkableAuthId(Object(at.v4)()),this.makeInitialAuthRequest().pipe(Object(it.a)(()=>this.getProcessedRequest()),Object(it.a)(t=>this.getRedirectLocation(t.fullURL)))}makeInitialAuthRequest(){return this.exchangeApi.authenticateWithIdentityProvider({id:this.linkQuery.authId,idpId:this.linkQuery.info.id.toString(),rpAuthId:this.rpQuery.authId})}getProcessedRequest(){return this.exchangeApi.confirmIdentityProviderAuthentication(this.linkQuery.authId)}getRedirectLocation(t){return this.exchangeApi.requestIdentityProviderLocation(t)}initiateExternalRedirect(t){Object(ct.a)(this.config.redirectTimeout).subscribe(()=>{this.document.location.href=t})}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(m.d),h.Pb(p.k),h.Pb(p.i),h.Pb(p.j),h.Pb(l.f),h.Pb(ot.b),h.Pb(s.RedirectService),h.Pb(et.a))},t.\u0275cmp=h.Jb({type:t,selectors:[["exchange-login-to-linkable"]],decls:1,vars:1,consts:[[3,"name"]],template:function(t,e){1&t&&h.Qb(0,"app-generic-redirect",0),2&t&&h.mc("name",e.linkableName)},directives:[rt.a],styles:[""]}),t})();var lt=n("XzLU");const bt=[{path:"",component:H,resolve:{entry:nt}},{path:"login",canActivate:[a.e],component:st,pathMatch:"full"},{path:"connect-idp",component:j,pathMatch:"full"},{path:"connect-mygov",component:z,pathMatch:"full"},{path:"rp-consent",component:W,pathMatch:"full"},{path:"cancel",component:(()=>{class t{constructor(t,e,n,i){this.route=t,this.config=e,this.rpQuery=n,this.title=i,this.redirectName=this.rpQuery.displayName,this.route.queryParams.subscribe(t=>{this.title.setTitle(`Returning to ${this.redirectName}`),this.externalRedirect(this.generateCancelUrl(t.context).href)})}externalRedirect(t){Object(ct.a)(this.config.redirectTimeout).subscribe(()=>{Object(lt.k)(),window.location.href=t})}generateCancelUrl(t){const e=new URL(this.rpQuery.redirectUri);return e.searchParams.append("error",t),e.searchParams.append("state",this.rpQuery.state),e}}return t.\u0275fac=function(e){return new(e||t)(h.Pb(o.a),h.Pb(ot.b),h.Pb(p.k),h.Pb(r.c))},t.\u0275cmp=h.Jb({type:t,selectors:[["exchange-choose-idp-cancel"]],decls:1,vars:1,consts:[[3,"name"]],template:function(t,e){1&t&&h.Qb(0,"app-generic-redirect",0),2&t&&h.mc("name",e.redirectName)},directives:[rt.a],styles:[""]}),t})(),pathMatch:"full"}];let pt=(()=>{class t{}return t.\u0275mod=h.Nb({type:t}),t.\u0275inj=h.Mb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(bt)],o.g]}),t})(),ut=(()=>{class t{}return t.\u0275mod=h.Nb({type:t}),t.\u0275inj=h.Mb({factory:function(e){return new(e||t)},providers:[],imports:[[i.a,c.a,pt]]}),t})()}}]);