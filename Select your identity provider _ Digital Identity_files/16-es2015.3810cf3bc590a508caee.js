(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{LgmZ:function(e,r,t){"use strict";t.r(r),t.d(r,"ErrorCustomerUiModule",(function(){return j}));var i=t("2kYt"),n=t("D/wg"),o=t("47kq"),a=t("Pq5H"),s=t("sEIs"),c=t("XzLU"),l=t("XZLj"),u=t("lwwr"),d=t("ke9K"),p=t("EM62"),b=t("lu7F"),h=(t("pJFc"),t("+GIO"));function v(e,r){if(1&e&&p.Qb(0,"error-return-button",6),2&e){const e=p.hc();p.nc("display",e.details.return.display),p.nc("uri",e.details.return.uri)}}let f=(()=>{class e{constructor(){this.faChevronLeft=b.d,this.faExclamationCircle=b.f}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=p.Jb({type:e,selectors:[["exchange-app-error-details"]],inputs:{details:"details"},decls:9,vars:4,consts:[[1,"card-callout-error","card-callout","mb-5","move-up","one"],[1,"callout-error"],["role","alert"],[3,"icon"],[3,"innerHTML"],[3,"display","uri",4,"ngIf"],[3,"display","uri"]],template:function(e,r){1&e&&(p.Vb(0,"div",0),p.Vb(1,"div"),p.Vb(2,"span",1),p.Vb(3,"h2",2),p.Qb(4,"fa-icon",3),p.Gc(5),p.Ub(),p.Ub(),p.Ub(),p.Vb(6,"div"),p.Qb(7,"p",4),p.Ub(),p.Ec(8,v,1,2,"error-return-button",5),p.Ub()),2&e&&(p.Cb(4),p.mc("icon",r.faExclamationCircle),p.Cb(1),p.Ic("\xa0",r.details&&r.details.title?r.details.title:"Service unavailable"," "),p.Cb(2),p.mc("innerHTML",r.details.description,p.yc),p.Cb(1),p.mc("ngIf",r.details.return.display&&r.details.return.uri))},directives:[a.a,i.k,h.a],styles:[".callout-error[_ngcontent-%COMP%]{color:#b7202d;font-size:24px;font-weight:700}.card-callout-error[_ngcontent-%COMP%]{border-top:4px solid #b7202d;background-color:#eee;padding:15px;position:relative;z-index:10}"]}),e})();function g(e,r){1&e&&p.Qb(0,"exchange-app-error-details",1),2&e&&p.mc("details",r.$implicit)}let y=(()=>{class e{constructor(e,r,t){this.redirectService=e,this.errorQuery=r,this.pageTitleService=t}ngOnInit(){this.redirectService.setRedirecting(!1),this.pageTitleService.setTitle("Error"),this.errors=this.errorQuery.errors,this.cleanUpStateOnError()}cleanUpStateOnError(){Object(c.k)({exclude:["error"]})}}return e.\u0275fac=function(r){return new(r||e)(p.Pb(u.RedirectService),p.Pb(d.e),p.Pb(l.c))},e.\u0275cmp=p.Jb({type:e,selectors:[["exchange-display-error"]],decls:3,vars:1,consts:[[3,"details",4,"ngFor","ngForOf"],[3,"details"]],template:function(e,r){1&e&&(p.Vb(0,"h1"),p.Gc(1,"Error"),p.Ub(),p.Ec(2,g,1,1,"exchange-app-error-details",0)),2&e&&(p.Cb(2),p.mc("ngForOf",r.errors))},directives:[i.j,f],styles:[""]}),e})();var m=t("j51s");let U=(()=>{class e{constructor(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=p.Jb({type:e,selectors:[["exchange-error-shell"]],decls:1,vars:0,template:function(e,r){1&e&&p.Qb(0,"app-generic-redirect")},directives:[m.a],styles:[""]}),e})();function E(e,r){if(1&e&&(p.Vb(0,"div"),p.Vb(1,"a",5),p.Qb(2,"fa-icon",3),p.Gc(3,"\xa0Return to "),p.Vb(4,"strong"),p.Gc(5),p.Ub(),p.Ub(),p.Ub()),2&e){const e=p.hc();p.Cb(1),p.nc("href",e.returntoRPUri,p.zc),p.Cb(1),p.mc("icon",e.faChevronLeft),p.Cb(3),p.Hc(e.rpName)}}let C=(()=>{class e{constructor(e,r,t){this.pageTitleService=e,this.redirectService=r,this.rpQuery=t,this.faChevronLeft=b.d,this.faExclamationCircle=b.f}ngOnInit(){this.redirectService.setRedirecting(!1),this.pageTitleService.setTitle("Strengthen your digital identity"),this.rpName=this.rpQuery.displayName,this.returntoRPUri=decodeURIComponent(this.rpQuery.redirectUri)}}return e.\u0275fac=function(r){return new(r||e)(p.Pb(l.c),p.Pb(u.RedirectService),p.Pb(d.k))},e.\u0275cmp=p.Jb({type:e,selectors:[["exchange-assurance-levels"]],decls:15,vars:3,consts:[[1,"card-callout","card-callout-error","mb-5","move-up","one"],[1,"callout-error"],["role","alert"],[3,"icon"],[4,"ngIf"],["data-auto","assurance-levels-return-to-RP-link",1,"bluelink",3,"href"]],template:function(e,r){1&e&&(p.Vb(0,"h1"),p.Gc(1,"Error"),p.Ub(),p.Vb(2,"div",0),p.Vb(3,"div"),p.Vb(4,"span",1),p.Vb(5,"h2",2),p.Qb(6,"fa-icon",3),p.Gc(7,"\xa0Strengthen your digital identity"),p.Ub(),p.Ub(),p.Ub(),p.Vb(8,"p"),p.Gc(9," Your digital identity does not meet the requirements for "),p.Vb(10,"strong"),p.Gc(11),p.Ub(),p.Gc(12,". Please go to your identity provider to provide more identity documents. "),p.Ub(),p.Qb(13,"br"),p.Ec(14,E,6,3,"div",4),p.Ub()),2&e&&(p.Cb(6),p.mc("icon",r.faExclamationCircle),p.Cb(5),p.Hc(r.rpName),p.Cb(3),p.mc("ngIf",r.returntoRPUri))},directives:[a.a,i.k],styles:[""]}),e})();var Q=t("ROBh"),S=t("q6bj"),P=t("8j5Y");let O=(()=>{class e{constructor(e){this.navigation=e}resolve(){return this.pointlessObservable().pipe(Object(P.a)(()=>{this.navigation.resolveNavigation(S.a.ErrorEntry)}))}pointlessObservable(){return Object(Q.a)("")}}return e.\u0275fac=function(r){return new(r||e)(p.Zb(S.h))},e.\u0275prov=p.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=t("5uDM");let I=(()=>{class e{constructor(e,r,t,i){this.activatedRoute=e,this.rpQuery=r,this.navigation=t,this.errorService=i}resolve(){return this.activatedRoute.queryParams.pipe(Object(w.a)(e=>this.populateAssuranceLevelError(e)),Object(P.a)(()=>{this.navigation.resolveNavigation(S.a.ErrorEntry)}))}populateAssuranceLevelError(e){if(this.rpQuery.redirectUri&&this.rpQuery.displayName&&this.rpQuery.request.state){const e=new URL(this.rpQuery.redirectUri);return e.searchParams.append("state",this.rpQuery.request.state),e.searchParams.append("error",""),this.errorService.addAPIErrorMessages({messages:[{description:"Strengthen your digital identity",message:`Your digital identity does not meet the requirements for <strong>${this.rpQuery.displayName}</strong>. Please go to your identity provider to provide more identity documents.`}],meta:[{name:this.rpQuery.displayName,url:e.toString()}]}),Object(Q.a)(!0)}return Object(Q.a)(!1)}}return e.\u0275fac=function(r){return new(r||e)(p.Zb(s.a),p.Zb(d.k),p.Zb(S.h),p.Zb(d.f))},e.\u0275prov=p.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),N=(()=>{class e{constructor(e,r,t){this.errorNavigation=e,this.route=r,this.errorStateService=t}ngOnInit(){this.route.data.subscribe(e=>{e.redirect?(this.errorStateService.updateErrorResponse(e.redirect),this.errorStateService.addAPIErrorMessages(e.redirect),this.errorNavigation.resolveNavigation(S.a.ErrorRedirect)):this.errorNavigation.resolveNavigation(S.a.Error)})}}return e.\u0275fac=function(r){return new(r||e)(p.Pb(S.h),p.Pb(s.a),p.Pb(d.f))},e.\u0275cmp=p.Jb({type:e,selectors:[["exchange-error-redirect"]],decls:1,vars:0,template:function(e,r){1&e&&p.Qb(0,"app-generic-redirect")},directives:[m.a],styles:[""]}),e})();var k=t("vIZi");let x=(()=>{class e{constructor(e,r){this.api=e,this.rpQuery=r}resolve(e){return this.api.requestOutOfContextErrorInformation(this.rpQuery.authId?this.rpQuery.authId:"UNKNOWN-RPAUTHID",e.params.errorCode)}}return e.\u0275fac=function(r){return new(r||e)(p.Zb(k.a),p.Zb(d.k))},e.\u0275prov=p.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const R=[{path:"",component:U,resolve:{entry:O},pathMatch:"full"},{path:"display",component:y,pathMatch:"full"},{path:"assurance-levels",component:C,pathMatch:"full",resolve:{assurance:I}},{path:"redirect/:errorCode",component:N,resolve:{redirect:x}}];let V=(()=>{class e{}return e.\u0275mod=p.Nb({type:e}),e.\u0275inj=p.Mb({factory:function(r){return new(r||e)},imports:[[s.g.forChild(R)],s.g]}),e})(),j=(()=>{class e{}return e.\u0275mod=p.Nb({type:e}),e.\u0275inj=p.Mb({factory:function(r){return new(r||e)},providers:[O,I,x],imports:[[i.c,a.b,o.a,n.a,V]]}),e})()}}]);